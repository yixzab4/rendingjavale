<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.bayside.app.opinion.war.sucontrol.dao.SucontrolMapper" >
  <resultMap id="SucontrolModel" type="com.bayside.app.opinion.war.sucontrol.model.SucontrolModel" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Jul 26 14:33:07 CST 2016.
    -->
    <id column="id" property="id" jdbcType="VARCHAR" />
    <id column="subjectid" property="subjectid" jdbcType="VARCHAR" />
    <id column="userid" property="userid" jdbcType="VARCHAR" />
    <id column="qingqiuneirong" property="qingqiuneirong" jdbcType="VARCHAR" />
    <id column="qingqiushijian" property="qingqiushijian" jdbcType="VARCHAR" />
    <id column="zhuangtai" property="zhuangtai" jdbcType="INTEGER" />
    <id column="chulishijian" property="chulishijian" jdbcType="VARCHAR" />
    <id column="chulirenid" property="chulirenid" jdbcType="VARCHAR" />
  </resultMap>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Jul 26 14:33:07 CST 2016.
    -->
    id, subjectid ,userid ,qingqiuneirong ,qingqiushijian ,zhuangtai ,chulishijian ,chulirenid
  </sql>
  <!-- 获取指定用户请求 -->
  <select id="selectQingqiu" resultMap="SucontrolModel" parameterType="java.lang.String">
  select * from bs_subject_control where userid = #{userid,jdbcType=VARCHAR}
  </select>
  
  <!-- 获取导控请求列表 -->
  <select id="selectAllQingqiu" resultMap="SucontrolModel" parameterType="java.lang.String">
  select * from bs_subject_control 
  </select>
  
  <!-- 获取所有未解决请求 -->
  <select id="selectWQingqiu" resultMap="SucontrolModel" parameterType="java.lang.String">
  select * from bs_subject_control where zhuangtai=0
  </select>
  
  <!-- 添加请求 -->
  <insert id="tianjiaqingqiu" parameterType="com.bayside.app.opinion.war.sucontrol.model.SucontrolModel">
  insert into bs_subject_control(id,subjectid,userid,qingqiuneirong,qingqiushijian,zhuangtai,chulishijian,chulirenid) value(#{id,jdbcType=VARCHAR},
  #{subjectid,jdbcType=VARCHAR},#{userid,jdbcType=VARCHAR},#{qingqiuneirong,jdbcType=VARCHAR},#{qingqiushijian,jdbcType=VARCHAR},#{zhuangtai,jdbcType=INTEGER}
  ,#{chulishijian,jdbcType=VARCHAR},#{chulirenid,jdbcType=VARCHAR})
  </insert>
  
  <!-- 处理请求 -->
  <update id="qingqiuchuli" parameterType="com.bayside.app.opinion.war.sucontrol.model.SucontrolModel">
  update bs_subject_control set zhuangtai=1,chulirenid=#{chulirenid,jdbcType=VARCHAR},chulishijian=#{chulishijian,jdbcType=VARCHAR} where id=#{id,jdbcType=VARCHAR}
  </update>
  <delete id="deleteBySubjectId" parameterType="java.lang.String">
  	delete from bs_subject_control
  	where subjectid=#{subjectid}
  </delete>
</mapper>