<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.bayside.app.opinion.war.concern.dao.FenleiNumMapper" >
  <resultMap id="FenleiNumMap" type="com.bayside.app.opinion.war.concern.model.FenleiNum" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Jul 26 14:33:07 CST 2016.
    -->
    <id column="ID" property="id" jdbcType="VARCHAR" />
    <result column="tittle" property="tittle" jdbcType="VARCHAR" />
     <result column="articleid" property="articleid" jdbcType="VARCHAR" />
    <result column="pubdate" property="pubdate" jdbcType="TIMESTAMP" />
    <result column="data_source" property="dataSource" jdbcType="VARCHAR" />
    <result column="author" property="author" jdbcType="VARCHAR" />
    <result column="keyword_rule" property="keywordRule" jdbcType="VARCHAR" />
    <result column="reportinfo" property="reportinfo" jdbcType="BIT" />
    <result column="content" property="content" jdbcType="VARCHAR" />
    <result column="url" property="url" jdbcType="VARCHAR" />
    <result column="attention" property="attention" jdbcType="BIT" />
    <result column="warning" property="warning" jdbcType="BIT" />
    <result column="readsign" property="readsign" jdbcType="BIT" />
    <result column="briefing" property="briefing" jdbcType="BIT" />
    <result column="emotion" property="emotion" jdbcType="VARCHAR" />
    <result column="content_type" property="contentType" jdbcType="VARCHAR" />
    <result column="formats" property="formats" jdbcType="VARCHAR" />
    <result column="readcount" property="readcount" jdbcType="INTEGER" />
    <result column="commtcount" property="commtcount" jdbcType="INTEGER" />
    <result column="repeatcount" property="repeatcount" jdbcType="INTEGER" />
    <result column="aggreecount" property="aggreecount" jdbcType="INTEGER" />
    <result column="score" property="score" jdbcType="INTEGER" />
    <result column="similarnum" property="similarnum" jdbcType="INTEGER" />
    <result column="relate_word" property="relateWord" jdbcType="INTEGER" />
    <result column="opinion_word" property="opinionWord" jdbcType="INTEGER" />
    <result column="negative_word" property="negativeWord" jdbcType="INTEGER" />
    <result column="positive_word" property="positiveWord" jdbcType="INTEGER" />
    <result column="warning_word" property="warningWord" jdbcType="INTEGER" />
    <result column="newsindex" property="newsindex" jdbcType="INTEGER" />
    <result column="search_num" property="searchNum" jdbcType="INTEGER" />
    <result column="updatetime" property="updatetime" jdbcType="TIMESTAMP" />
    <result column="imgUrl" property="imgUrl" jdbcType="VARCHAR" />
    <result column="view_point" property="view_point" jdbcType="VARCHAR" />
    <result column="abstrac" property="abstrac" jdbcType="VARCHAR" />
    <result column="domain" property="domain" jdbcType="VARCHAR" />
  </resultMap>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Jul 26 14:33:07 CST 2016.
    -->
    ID, tittle, pubdate, data_source, author, keyword_rule, reportinfo, attention, warning, 
    readsign, briefing, emotion, content_type, formats, readcount, commtcount, repeatcount, 
    aggreecount, score, similarnum, relate_word, opinion_word, negative_word, positive_word, 
    warning_word, newsindex, search_num, updatetime,content,url,imgUrl,view_point,abstrac,domain
  </sql>
   <!-- 获取该专题新闻数量 -->
  <select id="GetNewsNum" resultType="int" parameterType="Map">
   select count(sa.id) from bs_subject_article sa,bs_subject_m_article sma where sma.articleid=sa.ID and sma.briefing=1 and sma.subjectid=#{id,jdbcType=VARCHAR} and sma.userid=#{uid,jdbcType=VARCHAR} and sa.formats = 'news'
  </select>
  <!-- 获取该专题微信数量 -->
  <select id="GetWeixinNum" resultType="int" parameterType="Map">
    select count(sa.id) from bs_subject_article sa,bs_subject_m_article sma where sma.articleid=sa.ID and sma.briefing=1 and sma.subjectid=#{id,jdbcType=VARCHAR} and sma.userid=#{uid,jdbcType=VARCHAR} and sa.formats = 'weixin'
  </select>
  <!-- 获取赶专题博客数量 -->
  <select id="GetBlogNum" resultType="int" parameterType="Map">
  select count(sa.id) from bs_subject_article sa,bs_subject_m_article sma where sma.articleid=sa.ID and sma.briefing=1 and sma.subjectid=#{id,jdbcType=VARCHAR} and sma.userid=#{uid,jdbcType=VARCHAR} and sa.formats = 'blog'
  </select>
   <!-- 获取赶专题微博数量 -->
  <select id="GetWeiboNum" resultType="int" parameterType="Map">
   select count(sa.id) from bs_subject_article sa,bs_subject_m_article sma where sma.articleid=sa.ID and sma.briefing=1 and sma.subjectid=#{id,jdbcType=VARCHAR} and sma.userid=#{uid,jdbcType=VARCHAR} and sa.formats = 'weibo'
  </select>
   <!-- 获取赶专题贴吧数量 -->
  <select id="GetTiebaNum" resultType="int" parameterType="Map">
   select count(sa.id) from bs_subject_article sa,bs_subject_m_article sma where sma.articleid=sa.ID and sma.briefing=1 and sma.subjectid=#{id,jdbcType=VARCHAR} and sma.userid=#{uid,jdbcType=VARCHAR} and sa.formats = 'tieba'
  </select>
   <!-- 获取赶专题视频数量 -->
  <select id="GetVideoNum" resultType="int" parameterType="Map">
   select count(sa.id) from bs_subject_article sa,bs_subject_m_article sma where sma.articleid=sa.ID and sma.briefing=1 and sma.subjectid=#{id,jdbcType=VARCHAR} and sma.userid=#{uid,jdbcType=VARCHAR} and sa.formats = 'video'
  </select>
  <!-- 获取赶专题网页数量 -->
  <select id="GetWebNum" resultType="int" parameterType="Map">
   select count(sa.id) from bs_subject_article sa,bs_subject_m_article sma where sma.articleid=sa.ID and sma.briefing=1 and sma.subjectid=#{id,jdbcType=VARCHAR} and sma.userid=#{uid,jdbcType=VARCHAR} and sa.formats = 'web'
  </select>
  <!-- 获取赶专题知乎数量 -->
  <select id="GetZhihuNum" resultType="int" parameterType="Map">
  select count(sa.id) from bs_subject_article sa,bs_subject_m_article sma where sma.articleid=sa.ID and sma.briefing=1 and sma.subjectid=#{id,jdbcType=VARCHAR} and sma.userid=#{uid,jdbcType=VARCHAR} and sa.formats = 'zhihu' 
  </select>

</mapper>